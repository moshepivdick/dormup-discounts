# ‚úÖ –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤ Supabase

## üéØ –¶–µ–ª—å: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SMTP —Ç–∞–∫, —á—Ç–æ–±—ã –ø–∏—Å—å–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (—Å–ª–µ–¥—É–π—Ç–µ —à–∞–≥ –∑–∞ —à–∞–≥–æ–º)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ Resend (5 –º–∏–Ω—É—Ç)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ** https://resend.com
2. **–ù–∞–∂–º–∏—Ç–µ** "Sign Up" (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:**
   - Email (–ª—é–±–æ–π)
   - Password
   - –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email –∏–∑ –ø–∏—Å—å–º–∞
4. **–í–æ–π–¥–∏—Ç–µ** –≤ –∞–∫–∫–∞—É–Ω—Ç

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–∞ –≤ Resend

1. **–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞** –≤ Resend Dashboard
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ** –≤ —Ä–∞–∑–¥–µ–ª **"API Keys"** (—Å–ª–µ–≤–∞ –≤ –º–µ–Ω—é)
3. **–ù–∞–∂–º–∏—Ç–µ** –∫–Ω–æ–ø–∫—É **"Create API Key"**
4. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:**
   - **Name:** `Supabase SMTP`
   - **Permission:** `Sending access` (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
5. **–ù–∞–∂–º–∏—Ç–µ** "Add"
6. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ API –∫–ª—é—á** (–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)
   - –í—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫: `re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`
   - **–í–ê–ñ–ù–û:** –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ, –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–∞–ª—å—à–µ!

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP –≤ Supabase

1. **–û—Ç–∫—Ä–æ–π—Ç–µ** https://supabase.com/dashboard
2. **–í—ã–±–µ—Ä–∏—Ç–µ** –≤–∞—à –ø—Ä–æ–µ–∫—Ç (fddskrgoaqiumtrqrtsj)
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ** –≤ **Settings** (—à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∞ —Å–ª–µ–≤–∞)
4. **–í—ã–±–µ—Ä–∏—Ç–µ** **Auth** –≤ –ª–µ–≤–æ–º –º–µ–Ω—é
5. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ** –≤–Ω–∏–∑ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **"SMTP Settings"**
6. **–í–∫–ª—é—á–∏—Ç–µ** –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **"Enable Custom SMTP"**
7. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:**

   ```
   Host: smtp.resend.com
   Port: 587
   User name: resend
   Password: [–≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à API –∫–ª—é—á –∏–∑ Resend - re_xxx...]
   Sender email: onboarding@resend.dev
   Sender name: DormUp
   ```

8. **–ù–∞–∂–º–∏—Ç–µ** –∫–Ω–æ–ø–∫—É **"Save"** –≤–Ω–∏–∑—É

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ URL –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞

1. **–í —Ç–æ–º –∂–µ —Ä–∞–∑–¥–µ–ª–µ** Supabase (Settings ‚Üí Auth)
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ** –≤ **"URL Configuration"** (—Å–≤–µ—Ä—Ö—É –≤–∫–ª–∞–¥–∫–∏)
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ/–Ω–∞—Å—Ç—Ä–æ–π—Ç–µ:**

   **Site URL:**
   - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: `http://localhost:3000`
   - –î–ª—è production: –≤–∞—à –¥–æ–º–µ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://dormup.vercel.app`)

   **Redirect URLs:**
   - –î–æ–±–∞–≤—å—Ç–µ: `http://localhost:3000/auth/callback`
   - –î–ª—è production: `https://your-domain.com/auth/callback`
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é

4. **–ù–∞–∂–º–∏—Ç–µ** **"Save"**

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ Email –Ω–∞—Å—Ç—Ä–æ–µ–∫

1. **–í —Ä–∞–∑–¥–µ–ª–µ** Settings ‚Üí Auth ‚Üí **Email**
2. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:**
   - ‚úÖ **"Enable email signup"** –≤–∫–ª—é—á–µ–Ω–æ
   - ‚úÖ **"Confirm email"** –≤–∫–ª—é—á–µ–Ω–æ (–¥–ª—è production)
   - ‚úÖ **"Secure email change"** –≤–∫–ª—é—á–µ–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email —à–∞–±–ª–æ–Ω–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ** –≤ **Settings ‚Üí Auth ‚Üí Email Templates**
2. **–í—ã–±–µ—Ä–∏—Ç–µ** —à–∞–±–ª–æ–Ω **"Confirm signup"**
3. **–ú–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å** —Ç–µ–∫—Å—Ç –ø–∏—Å—å–º–∞, –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø –∏ —Ç.–¥.
4. **–í–∞–∂–Ω–æ:** –í —à–∞–±–ª–æ–Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Å—ã–ª–∫–∞ `{{ .ConfirmationURL }}`

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –≤–∞—à–µ–º `.env` —Ñ–∞–π–ª–µ –µ—Å—Ç—å:

```env
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_SUPABASE_URL=https://fddskrgoaqiumtrqrtsj.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=–≤–∞—à_anon_key
SUPABASE_SERVICE_ROLE_KEY=–≤–∞—à_service_role_key
```

### –®–∞–≥ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ** –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm run dev
   ```

2. **–û—Ç–∫—Ä–æ–π—Ç–µ** http://localhost:3000/auth/signup

3. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:**
   - Email (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π email –¥–ª—è —Ç–µ—Å—Ç–∞)
   - –í—ã–±–µ—Ä–∏—Ç–µ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç
   - –ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤)

4. **–ù–∞–∂–º–∏—Ç–µ** "Create account"

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
   - ‚úÖ –û—à–∏–±–∫–∏ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
   - ‚úÖ –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "Check your email" –∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/auth/check-email`
   - ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É (–∏ –ø–∞–ø–∫—É —Å–ø–∞–º)
   - ‚úÖ –ü–∏—Å—å–º–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Å –∞–¥—Ä–µ—Å–∞ `onboarding@resend.dev`

6. **–í –ø–∏—Å—å–º–µ:**
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
   - –î–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `/auth/callback`
   - –ó–∞—Ç–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –ª–æ–≥–∏–Ω

### –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

#### –í Supabase:
1. **Dashboard ‚Üí Logs ‚Üí Auth Logs**
2. –ò—â–∏—Ç–µ –∑–∞–ø–∏—Å–∏ –æ –ø–æ–ø—ã—Ç–∫–∞—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏ email
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)

#### –í Resend:
1. **Dashboard ‚Üí Logs**
2. –¢–∞–º –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞
3. –ú–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏

## üîç –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Error sending confirmation email"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ SMTP –≤–∫–ª—é—á–µ–Ω –≤ Supabase
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å API –∫–ª—é—á–∞ Resend
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Supabase (Dashboard ‚Üí Logs ‚Üí Auth Logs)

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–∏—Å—å–º–æ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É —Å–ø–∞–º
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Resend Dashboard ‚Üí Logs
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ email –∞–¥—Ä–µ—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Å—ã–ª–∫–∞ –≤ –ø–∏—Å—å–º–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Redirect URLs –≤ Supabase (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `/auth/callback`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Site URL (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –≤–∞—à–∏–º –¥–æ–º–µ–Ω–æ–º)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `NEXT_PUBLIC_APP_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `.env`

### –ü—Ä–æ–±–ª–µ–º–∞: API –∫–ª—é—á –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á –≤ Resend
2. –û–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –≤ Supabase SMTP Settings
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç

–ü–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:

- [ ] Resend –∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω
- [ ] API –∫–ª—é—á Resend —Å–æ–∑–¥–∞–Ω –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
- [ ] SMTP –≤–∫–ª—é—á–µ–Ω –≤ Supabase
- [ ] –î–∞–Ω–Ω—ã–µ SMTP –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
  - [ ] Host: `smtp.resend.com`
  - [ ] Port: `587`
  - [ ] Username: `resend`
  - [ ] Password: (API –∫–ª—é—á)
  - [ ] Sender email: `onboarding@resend.dev`
- [ ] Site URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω (`http://localhost:3000` –¥–ª—è dev)
- [ ] Redirect URLs –¥–æ–±–∞–≤–ª–µ–Ω (`http://localhost:3000/auth/callback`)
- [ ] Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤–∫–ª—é—á–µ–Ω–æ
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç `NEXT_PUBLIC_APP_URL`
- [ ] –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

## üöÄ –î–ª—è Production

–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ production:

1. **–í Supabase:**
   - –ò–∑–º–µ–Ω–∏—Ç–µ Site URL –Ω–∞ –≤–∞—à production –¥–æ–º–µ–Ω
   - –î–æ–±–∞–≤—å—Ç–µ production Redirect URL

2. **–í `.env` –Ω–∞ Vercel:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NEXT_PUBLIC_APP_URL=https://your-domain.com`

3. **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:**
   - –î–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π –¥–æ–º–µ–Ω –≤ Resend (–¥–ª—è –ª—É—á—à–µ–π –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç–∏)
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SPF –∏ DKIM –∑–∞–ø–∏—Å–∏ –≤ DNS
   - –ò–∑–º–µ–Ω–∏—Ç–µ Sender email –Ω–∞ `noreply@yourdomain.com`

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Supabase Dashboard ‚Üí Logs ‚Üí Auth Logs
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Resend Dashboard ‚Üí Logs
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∏ –ø–∏—Å—å–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ Resend.

